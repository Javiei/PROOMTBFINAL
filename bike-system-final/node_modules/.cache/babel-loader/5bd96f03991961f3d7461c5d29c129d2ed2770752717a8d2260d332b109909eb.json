{"ast":null,"code":"import _objectSpread from\"/root/PROOMTBFINAL/bike-system-final/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{BikeCard}from'./BikeCard';import{fetchBikes,updateBike}from'../server/db';import{getStatusDisplayName}from'../utils/helpers';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const LavadorDashboard=()=>{const[bikes,setBikes]=useState([]);useEffect(()=>{const loadBikes=async()=>{const data=await fetchBikes();setBikes(data);};loadBikes();},[]);const lavadoBikes=bikes.filter(bike=>bike.status==='lavado');const handleSendToQuote=async bike=>{const updatedBike=_objectSpread(_objectSpread({},bike),{},{status:'por cotizar',assignedTo:'mecanico1'});const result=await updateBike(updatedBike);setBikes(bikes.map(b=>b.id===result.id?result:b));alert(\"Bicicleta de \".concat(bike.clientName,\" enviada a Cotizar.\"));};// Contadores por estado\nconst statusCounts=bikes.reduce((acc,bike)=>{acc[bike.status]=(acc[bike.status]||0)+1;return acc;},{});return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-gray-50 min-h-screen\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900 mb-8\",children:\"Panel del Lavador\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"Contadores por Estado\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4\",children:Object.entries(statusCounts).map(_ref=>{let[status,count]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-xl shadow-md text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:getStatusDisplayName(status)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:count})]},status);})})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"Bicicletas para Lavar\"}),lavadoBikes.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg\",children:\"No hay bicicletas pendientes de lavado. \\xA1A brillar!\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",children:lavadoBikes.map(bike=>/*#__PURE__*/_jsx(BikeCard,{bike:bike,onAction:handleSendToQuote,actionLabel:\"Enviar a Cotizar\"},bike.id))})]});};","map":{"version":3,"names":["React","useState","useEffect","BikeCard","fetchBikes","updateBike","getStatusDisplayName","jsx","_jsx","jsxs","_jsxs","LavadorDashboard","bikes","setBikes","loadBikes","data","lavadoBikes","filter","bike","status","handleSendToQuote","updatedBike","_objectSpread","assignedTo","result","map","b","id","alert","concat","clientName","statusCounts","reduce","acc","className","children","Object","entries","_ref","count","length","onAction","actionLabel"],"sources":["/root/PROOMTBFINAL/bike-system-final/src/components/LavadorDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BikeCard } from './BikeCard';\nimport { fetchBikes, updateBike } from '../server/db';\nimport { getStatusDisplayName } from '../utils/helpers';\n\nexport const LavadorDashboard = () => {\n  const [bikes, setBikes] = useState([]);\n\n  useEffect(() => {\n    const loadBikes = async () => {\n      const data = await fetchBikes();\n      setBikes(data);\n    };\n    loadBikes();\n  }, []);\n\n  const lavadoBikes = bikes.filter(bike => bike.status === 'lavado');\n\n  const handleSendToQuote = async (bike) => {\n    const updatedBike = { ...bike, status: 'por cotizar', assignedTo: 'mecanico1' };\n    const result = await updateBike(updatedBike);\n    setBikes(bikes.map(b => b.id === result.id ? result : b));\n    alert(`Bicicleta de ${bike.clientName} enviada a Cotizar.`);\n  };\n\n  // Contadores por estado\n  const statusCounts = bikes.reduce((acc, bike) => {\n    acc[bike.status] = (acc[bike.status] || 0) + 1;\n    return acc;\n  }, {});\n\n  return (\n    <div className=\"p-6 bg-gray-50 min-h-screen\">\n      <h2 className=\"text-3xl font-bold text-gray-900 mb-8\">Panel del Lavador</h2>\n\n      <div className=\"mb-8\">\n        <h3 className=\"text-2xl font-bold text-gray-900 mb-4\">Contadores por Estado</h3>\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4\">\n          {Object.entries(statusCounts).map(([status, count]) => (\n            <div key={status} className=\"bg-white p-4 rounded-xl shadow-md text-center\">\n              <p className=\"text-gray-600 text-sm\">{getStatusDisplayName(status)}</p>\n              <p className=\"text-2xl font-bold text-gray-900\">{count}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <h3 className=\"text-2xl font-bold text-gray-900 mb-6\">Bicicletas para Lavar</h3>\n      {lavadoBikes.length === 0 ? (\n        <p className=\"text-gray-600 text-lg\">No hay bicicletas pendientes de lavado. Â¡A brillar!</p>\n      ) : (\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {lavadoBikes.map(bike => (\n            <BikeCard key={bike.id} bike={bike} onAction={handleSendToQuote} actionLabel=\"Enviar a Cotizar\" />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};"],"mappings":"yHAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,QAAQ,KAAQ,YAAY,CACrC,OAASC,UAAU,CAAEC,UAAU,KAAQ,cAAc,CACrD,OAASC,oBAAoB,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExD,MAAO,MAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CACpC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAX,UAAU,CAAC,CAAC,CAC/BS,QAAQ,CAACE,IAAI,CAAC,CAChB,CAAC,CACDD,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,WAAW,CAAGJ,KAAK,CAACK,MAAM,CAACC,IAAI,EAAIA,IAAI,CAACC,MAAM,GAAK,QAAQ,CAAC,CAElE,KAAM,CAAAC,iBAAiB,CAAG,KAAO,CAAAF,IAAI,EAAK,CACxC,KAAM,CAAAG,WAAW,CAAAC,aAAA,CAAAA,aAAA,IAAQJ,IAAI,MAAEC,MAAM,CAAE,aAAa,CAAEI,UAAU,CAAE,WAAW,EAAE,CAC/E,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAnB,UAAU,CAACgB,WAAW,CAAC,CAC5CR,QAAQ,CAACD,KAAK,CAACa,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACC,EAAE,GAAKH,MAAM,CAACG,EAAE,CAAGH,MAAM,CAAGE,CAAC,CAAC,CAAC,CACzDE,KAAK,iBAAAC,MAAA,CAAiBX,IAAI,CAACY,UAAU,uBAAqB,CAAC,CAC7D,CAAC,CAED;AACA,KAAM,CAAAC,YAAY,CAAGnB,KAAK,CAACoB,MAAM,CAAC,CAACC,GAAG,CAAEf,IAAI,GAAK,CAC/Ce,GAAG,CAACf,IAAI,CAACC,MAAM,CAAC,CAAG,CAACc,GAAG,CAACf,IAAI,CAACC,MAAM,CAAC,EAAI,CAAC,EAAI,CAAC,CAC9C,MAAO,CAAAc,GAAG,CACZ,CAAC,CAAE,CAAC,CAAC,CAAC,CAEN,mBACEvB,KAAA,QAAKwB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C3B,IAAA,OAAI0B,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cAE5EzB,KAAA,QAAKwB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB3B,IAAA,OAAI0B,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,uBAAqB,CAAI,CAAC,cAChF3B,IAAA,QAAK0B,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAClEC,MAAM,CAACC,OAAO,CAACN,YAAY,CAAC,CAACN,GAAG,CAACa,IAAA,MAAC,CAACnB,MAAM,CAAEoB,KAAK,CAAC,CAAAD,IAAA,oBAChD5B,KAAA,QAAkBwB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,eACzE3B,IAAA,MAAG0B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAE7B,oBAAoB,CAACa,MAAM,CAAC,CAAI,CAAC,cACvEX,IAAA,MAAG0B,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAEI,KAAK,CAAI,CAAC,GAFnDpB,MAGL,CAAC,EACP,CAAC,CACC,CAAC,EACH,CAAC,cAENX,IAAA,OAAI0B,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,uBAAqB,CAAI,CAAC,CAC/EnB,WAAW,CAACwB,MAAM,GAAK,CAAC,cACvBhC,IAAA,MAAG0B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,wDAAmD,CAAG,CAAC,cAE5F3B,IAAA,QAAK0B,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAClEnB,WAAW,CAACS,GAAG,CAACP,IAAI,eACnBV,IAAA,CAACL,QAAQ,EAAee,IAAI,CAAEA,IAAK,CAACuB,QAAQ,CAAErB,iBAAkB,CAACsB,WAAW,CAAC,kBAAkB,EAAhFxB,IAAI,CAACS,EAA6E,CAClG,CAAC,CACC,CACN,EACE,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}